!function(){function t(t,e,o){function n(){r.forEach(function(e){e&&("/"===e[0]&&(e=e.substr(1)),e=t.root+e,".js"===e.substr(-3)?(s=document.createElement("script"),s.type="text/javascript",s.src=e+"?"+i,s.async=!1):(s=document.createElement("link"),s.rel="stylesheet",s.href=e+"?"+i,s.type="text/css"),a.appendChild(s))})}if(!t.load)return void console.error("Manifest has nothing to load (manifest.load is empty).",t);var s,a=document.getElementsByTagName("head")[0],r=t.load.concat(),i=Date.now();t.root=t.root||"./",t.root.length>0&&"/"!==t.root[t.root.length-1]&&(t.root+="/"),e||localStorage.setItem("manifest",JSON.stringify(t)),"cdvfile"===t.root.substr(0,7)?document.addEventListener("deviceready",n,!1):n(),window.Manifest=t,e&&setTimeout(function(){window.BOOTSTRAP_OK||(console.warn("BOOTSTRAP_OK !== true; Resetting to original manifest.json..."),localStorage.removeItem("manifest"),location.reload())},o)}window.pegasus=function(t,e){return e=new XMLHttpRequest,e.open("GET",t),t=[],e.onreadystatechange=e.then=function(o,n,s){o.call&&(t=[o,n]),4==e.readyState&&(s=t[0|e.status/400],s&&s(200===e.status||0===e.status?JSON.parse(e.responseText):e))},e.send(),e},window.Manifest={};var e=JSON.parse(localStorage.getItem("manifest")),o=document.querySelector("script[manifest]");if(e)t(e,!0,o.getAttribute("timeout")||1e4);else{var n=(o?o.getAttribute("manifest"):null)||"manifest.json";pegasus(n).then(t,function(t){console.error("Could not download "+n+": "+t.status)})}}();